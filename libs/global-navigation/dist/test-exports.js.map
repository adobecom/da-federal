{
  "version": 3,
  "sources": ["../src/Error/Error.ts", "../src/Utils/Utils.ts", "../src/Components/Link/Parse.ts", "../src/Components/LinkGroup/Parse.ts", "../src/Components/LinkGroup/linkGroup.css", "../src/Components/LinkGroup/Render.ts", "../src/Components/Brand/Parse.ts", "../src/Components/Brand/brand.css", "../src/Components/Brand/Render.ts", "../src/PostRendering/Unav/Unav.utils.ts", "../src/PostRendering/Unav/Unav.config.ts", "../src/PostRendering/Unav/Unav.loader.ts"],
  "sourcesContent": ["export class IrrecoverableError extends Error {\n  constructor(message: string) {\n    super(message);\n    // This is important for proper instanceof checks\n    Object.setPrototypeOf(this, IrrecoverableError.prototype);\n    // TODO: Lana logging logic can go here\n  }\n}\n\ntype Severity\n  = \"Minor\"\n  | \"Major\"\n  | \"Critical\"\n\nexport class RecoverableError extends Error {\n  constructor(message: string, severity: Severity = \"Minor\") {\n    super(message);\n    // This is important for proper instanceof checks\n    Object.setPrototypeOf(this, RecoverableError.prototype);\n    if (severity !== \"Minor\") {\n      // TODO: Lana logging logic can go here\n    }\n  }\n}\n", "import { IrrecoverableError } from \"../Error/Error\";\n\nexport const isDesktop = window.matchMedia('(min-width: 900px)');\n\nexport const icons = {\n  brand: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" viewBox=\"0 0 64.57 35\"><defs><style>.cls-1{fill: #eb1000;}</style></defs><path class=\"cls-1\" d=\"M6.27,10.22h4.39l6.2,14.94h-4.64l-3.92-9.92-2.59,6.51h3.08l1.23,3.41H0l6.27-14.94ZM22.03,13.32c.45,0,.94.04,1.43.16v-3.7h3.88v14.72c-.89.4-2.81.89-4.73.89-3.48,0-6.47-1.98-6.47-5.93s2.88-6.13,5.89-6.13ZM22.52,22.19c.36,0,.65-.07.94-.16v-5.42c-.29-.11-.58-.16-.96-.16-1.27,0-2.45.94-2.45,2.92s1.2,2.81,2.47,2.81ZM34.25,13.32c3.23,0,5.98,2.18,5.98,6.02s-2.74,6.02-5.98,6.02-6-2.18-6-6.02,2.72-6.02,6-6.02ZM34.25,22.13c1.11,0,2.14-.89,2.14-2.79s-1.03-2.79-2.14-2.79-2.12.89-2.12,2.79.96,2.79,2.12,2.79ZM41.16,9.78h3.9v3.7c.47-.09.96-.16,1.45-.16,3.03,0,5.84,1.98,5.84,5.86,0,4.1-2.99,6.18-6.53,6.18-1.52,0-3.46-.31-4.66-.87v-14.72ZM45.91,22.17c1.34,0,2.56-.96,2.56-2.94,0-1.85-1.2-2.72-2.5-2.72-.36,0-.65.04-.91.16v5.35c.22.09.51.16.85.16ZM58.97,13.32c2.92,0,5.6,1.87,5.6,5.64,0,.51-.02,1-.09,1.49h-7.27c.4,1.32,1.56,1.94,3.01,1.94,1.18,0,2.27-.29,3.5-.82v2.97c-1.14.58-2.5.82-3.9.82-3.7,0-6.58-2.23-6.58-6.02s2.61-6.02,5.73-6.02ZM60.93,18.02c-.2-1.27-1.05-1.78-1.92-1.78s-1.58.54-1.87,1.78h3.79Z\"/></svg>',\n  company: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"22\" viewBox=\"0 0 24 22\" fill=\"none\"><path d=\"M14.2353 21.6209L12.4925 16.7699H8.11657L11.7945 7.51237L17.3741 21.6209H24L15.1548 0.379395H8.90929L0 21.6209H14.2353Z\" fill=\"#EB1000\"/></svg>',\n  search: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" focusable=\"false\"><path d=\"M14 2A8 8 0 0 0 7.4 14.5L2.4 19.4a1.5 1.5 0 0 0 2.1 2.1L9.5 16.6A8 8 0 1 0 14 2Zm0 14.1A6.1 6.1 0 1 1 20.1 10 6.1 6.1 0 0 1 14 16.1Z\"></path></svg>',\n  home: '<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" height=\"25\" viewBox=\"0 0 18 18\" width=\"25\"><path fill=\"#6E6E6E\" d=\"M17.666,10.125,9.375,1.834a.53151.53151,0,0,0-.75,0L.334,10.125a.53051.53051,0,0,0,0,.75l.979.9785A.5.5,0,0,0,1.6665,12H2v4.5a.5.5,0,0,0,.5.5h4a.5.5,0,0,0,.5-.5v-5a.5.5,0,0,1,.5-.5h3a.5.5,0,0,1,.5.5v5a.5.5,0,0,0,.5.5h4a.5.5,0,0,0,.5-.5V12h.3335a.5.5,0,0,0,.3535-.1465l.979-.9785A.53051.53051,0,0,0,17.666,10.125Z\"/></svg>',\n};\n\n// split arrays based on a predicate\n// unlike string.prototype.split, it works on\n// all arrays.\nexport const split = <T>(\n  predicate: (_: T) => boolean\n) => (arr: T[]): T[][] => {\n  const splitArrays = [];\n  let currSubArray = [];\n  for (let i = 0; i < arr.length; i++) {\n    if (predicate(arr[i])) {\n      splitArrays.push(currSubArray);\n      currSubArray = [];\n      continue;\n    }\n    currSubArray.push(arr[i]);\n  }\n  splitArrays.push(currSubArray);\n  return splitArrays;\n};\n\nexport const zip = <T, R>(\n  xs: T[],\n  ys: R[]\n): List<[T, R]> => {\n  const len = xs.length < ys.length\n            ? xs.length\n            : ys.length;\n  const result = new Array(len) as List<[T, R]>;\n  for (let i = 0; i < len; i = i + 1) {\n    result[i] = [xs[i], ys[i]];\n  }\n  return result;\n}\n\nexport const takeWhile = <T>(\n  predicate: (_: T) => boolean\n) => (arr: T[]): T[] => {\n  if (arr.length === 0)\n    return arr;\n  const [firstItem, ...remainingItems] = arr;\n  if (predicate(firstItem))\n    return [firstItem].concat(takeWhile(predicate)(remainingItems));\n  return [];\n};\n\nexport const dropWhile = <T>(\n  predicate: (_: T) => boolean\n) => (arr: T[]): T[] => {\n  if (arr.length === 0)\n    return arr;\n  const [firstItem, ...remainingItems] = arr;\n  if (predicate(firstItem))\n    return dropWhile(predicate)(remainingItems);\n  return remainingItems;\n};\n\nexport const getNextSiblings = (element: Element): Element[] => {\n  const accumulator = [];\n  let iterator = element.nextElementSibling as Element ?? null;\n  while(iterator !== null) {\n    accumulator.push(iterator);\n    iterator = iterator.nextElementSibling as Element ?? null;\n  }\n  return accumulator;\n};\n\ntype Alternative<ReturnType, InputType> = {\n  or: (\n    fallbackFn: (input: InputType) => ReturnType\n  ) => Alternative<ReturnType, InputType>;\n  eval: (input: InputType) => ReturnType;\n};\n\nexport const alternative = <ReturnType, InputType>(\n  primaryFn: (input: InputType) => ReturnType\n): Alternative<ReturnType, InputType> => {\n  return {\n    eval: primaryFn,\n    or: (fallbackFn) => alternative((input) => {\n      try {\n        return primaryFn(input)\n      } catch (_error) {\n        return fallbackFn(input);\n      }\n    })\n  }\n};\n\nexport const parseListAndAccumulateErrors = <\n  UnParsedObj,\n  ParsedObj,\n  ErrorType\n  >(\n  elements: List<UnParsedObj>,\n  parse: (element: UnParsedObj) => Parsed<ParsedObj, ErrorType>\n): Parsed<List<ParsedObj>, ErrorType> => elements.reduce(\n  ([accElems, accErrors], element) => {\n    try {\n      const [parsedElement, parseErrors] = parse(element);\n      return [\n        [...accElems, parsedElement],\n        [...accErrors, ...parseErrors]\n      ];\n    } catch (error) {\n      if (error instanceof IrrecoverableError) {\n        return [accElems, [\n          error as ErrorType,\n          ...accErrors]\n        ];\n      }\n      return [accElems, accErrors];\n    }\n  },\n  [[],[]] as Parsed<List<ParsedObj>, ErrorType>\n  );\n\ntype CleanupFunction = () => void;\ntype AddListeners = (gnav: HTMLElement) => CleanupFunction;\ntype ListenerSetupFunctions = {\n  mobileEventListeners: AddListeners;\n  desktopEventListeners: AddListeners;\n}\nexport const setupMobileDesktopListeners = ({\n  mobileEventListeners,\n  desktopEventListeners\n}: ListenerSetupFunctions) => (gnav: HTMLElement): void => {\n  let cleanup: CleanupFunction;\n  if (isDesktop.matches)\n    cleanup = desktopEventListeners(gnav);\n  else\n    cleanup = mobileEventListeners(gnav);\n\n  isDesktop.addEventListener('change', () => {\n    cleanup?.();\n    cleanup\n      = isDesktop.matches\n      ? desktopEventListeners(gnav)\n      : mobileEventListeners(gnav);\n  });\n};\n\nexport const fetchAndProcessPlainHTML = async (\n  source: URL | null\n): Promise<HTMLElement | IrrecoverableError> => {\n  try {\n    if (source === null)\n      return new IrrecoverableError('URL is null');\n    const modifiedSource = federateUrl(`${source.origin}${source.pathname.replace(/(\\.html$|$)/, '.plain.html')}${source.hash}`);\n    const response = await fetch(modifiedSource);\n    if (!response.ok)\n      return new IrrecoverableError(`Request for ${modifiedSource} failed`);\n    const htmlText = await response.text();\n  \n    const { body } = new DOMParser().parseFromString(htmlText, \"text/html\");\n    return body;\n  } catch (error) {\n    // @ts-expect-error errors usually have a message\n    return new IrrecoverableError(error?.message);\n  }\n};\n\n// TODO: refactor\nlet federatedContentRoot: string;\nexport const getFederatedContentRoot = (): string => {\n  if (federatedContentRoot) return federatedContentRoot;\n\n  const cdnWhitelistedOrigins = [\n    'https://www.adobe.com',\n    'https://business.adobe.com',\n    'https://blog.adobe.com',\n    'https://milo.adobe.com',\n    'https://news.adobe.com',\n    'graybox.adobe.com',\n  ];\n  if (federatedContentRoot) return federatedContentRoot;\n  // Non milo consumers will have its origin from config\n  // TODO: allow the passing of a configured origin\n  const origin = window.location.origin;\n\n  const isAllowedOrigin = cdnWhitelistedOrigins.some((o) => {\n    const originNoStage = origin.replace('.stage', '');\n    return o.startsWith('https://')\n      ? originNoStage === o\n      : originNoStage.endsWith(o);\n  });\n\n  federatedContentRoot = isAllowedOrigin ? origin : 'https://www.adobe.com';\n\n  const SLD = window.location.hostname.includes('.aem.') ? 'aem' : 'hlx';\n  if (origin.includes('localhost') || origin.includes(`.${SLD}.`)) {\n    federatedContentRoot = `https://main--federal--adobecom.aem.${origin.endsWith('.live') ? 'live' : 'page'}`;\n  }\n\n  return federatedContentRoot;\n};\n\n// TODO we should match the akamai patterns /locale/federal/\n// at the start of the url\n// and make the check more strict.\nexport const federateUrl = (url = ''): string => {\n  if (typeof url !== 'string' || !url.includes('/federal/')) return url;\n  if (url.startsWith('/')) return `${getFederatedContentRoot()}${url}`;\n  try {\n    const { pathname, search, hash } = new URL(url);\n    return `${getFederatedContentRoot()}${pathname}${search}${hash}`;\n  } catch (e) {\n    // @ts-expect-error errors usually have a message\n    console.log(`getFederatedUrl errored parsing the URL: ${url}: ${e?.message}`);\n  }\n  return url;\n};\n\nexport const inlineNestedFragments = async (\n  element: Element | HTMLElement\n): Promise<Element | HTMLElement | IrrecoverableError> => {\n  const processElement = async (\n    currentElem: Element | HTMLElement | IrrecoverableError,\n    visitedUrls: Set<string>\n  ): Promise<Element | HTMLElement | IrrecoverableError> => {\n    if (currentElem instanceof IrrecoverableError)\n      return currentElem;\n    try {\n      const anchorElements = [\n        ...currentElem.querySelectorAll('a[href*=\"#_inline\"]')\n      ] as HTMLAnchorElement[];\n      const inlineLinks = anchorElements\n        .map(async (anchorElement: HTMLAnchorElement) => {\n          try {\n            if (visitedUrls.has(anchorElement.href)) return;\n            const federatedUrl = federateUrl(anchorElement.href);\n            const fragmentUrl = new URL(federatedUrl);\n            const fragmentBody = await fetchAndProcessPlainHTML(fragmentUrl);\n            visitedUrls.add(anchorElement.href);\n            if (fragmentBody instanceof IrrecoverableError)\n              throw fragmentBody;\n            await processElement(fragmentBody, visitedUrls);\n            const parentDiv = anchorElement.closest('div');\n            if (parentDiv) {\n              parentDiv.replaceWith(...fragmentBody.children);\n            } else {\n              anchorElement.replaceWith(...fragmentBody.children);\n            }\n            return;\n          } catch {\n            return;\n          }\n        }, [] as List<[HTMLAnchorElement, URL]>)\n      await Promise.all(inlineLinks);\n      return currentElem\n    } catch (error) {\n      return new IrrecoverableError(JSON.stringify(error));\n    }\n  }\n  return processElement(element, new Set());\n};\n\nexport const renderListItems = <T>(\n  items: T[],\n  renderFn: (item: T) => string\n): string => {\n  return items.map(item => `<li>${renderFn(item)}</li>`).join('');\n};\n\nexport const sanitize = (str: string): string => {\n  return str\n    .toLowerCase()\n    .trim()\n    // Replace spaces and non-alphanumeric characters with hyphens\n    .replace(/[^a-z0-9]/g, '-')\n    // Remove multiple consecutive hyphens\n    .replace(/-+/g, '-')\n    // Remove leading/trailing hyphens\n    .replace(/^-+|-+$/g, '')\n    // Ensure it starts with a letter (prepend 'id-' if it starts with a number)\n    .replace(/^(\\d)/, 'id-$1')\n};\n\n\nexport const isDarkMode = (): boolean => {\n  // TODO: Implement dark mode detection\n  return true;\n};\n\n/**\n * Configuration options for dynamically loading link elements\n */\ntype LoadLinkOptions = {\n  id?: string;\n  as?: string;\n  callback?: (type: string) => void;\n  crossorigin?: string;\n  rel: string;\n  fetchpriority?: string;\n}\n\n/**\n * Dynamically loads a link element into the document head.\n * Prevents duplicate loading by checking if a link with the same href already exists.\n * \n * @param href - URL of the resource to load\n * @param options - Configuration options for the link element\n * @returns The created or existing HTMLLinkElement\n * \n * @example\n * // Load a stylesheet with high priority\n * loadLink('/styles/main.css', { \n *   rel: 'stylesheet', \n *   fetchpriority: 'high',\n *   callback: (type) => console.log(`Stylesheet ${type}`)\n * });\n */\nexport function loadLink(\n  href: string,\n  {\n    id,\n    as,\n    callback,\n    crossorigin,\n    rel,\n    fetchpriority,\n  }: LoadLinkOptions = { rel: 'stylesheet' }\n): HTMLLinkElement {\n  // Check if link already exists to prevent duplicates\n  let link = document.head.querySelector(`link[href=\"${href}\"]`) as HTMLLinkElement | null;\n  if (!link) {\n    // Create new link element with specified attributes\n    link = document.createElement('link');\n    link.setAttribute('rel', rel);\n    if (id) link.setAttribute('id', id);\n    if (as) link.setAttribute('as', as);\n    if (crossorigin) link.setAttribute('crossorigin', crossorigin);\n    if (fetchpriority) link.setAttribute('fetchpriority', fetchpriority);\n    link.setAttribute('href', href);\n    \n    // Attach load/error event handlers if callback provided\n    if (callback) {\n      link.onload = (e: Event) => callback(e.type);\n      link.onerror = (e: string | Event) => callback(typeof e === 'string' ? 'error' : e.type);\n    }\n    document.head.appendChild(link);\n  } else if (callback) {\n    // Link already exists, invoke callback with 'noop' to indicate no action taken\n    callback('noop');\n  }\n  return link;\n}\n\n/**\n * Convenience function to load a CSS stylesheet.\n * \n * @param href - URL of the stylesheet to load\n * @param callback - Optional callback invoked on load/error events\n * @returns The created or existing HTMLLinkElement\n */\nexport function loadStyle(href: string, callback?: (type: string) => void): HTMLLinkElement {\n  return loadLink(href, { rel: 'stylesheet', callback });\n}\n\n/**\n * Conditionally loads a stylesheet based on the override flag.\n * \n * @param url - URL of the stylesheet to load\n * @param override - Whether to load the stylesheet (defaults to false)\n */\nexport function loadStyles(url: string, override = false) {\n  if (!override) return;\n  loadStyle(url);\n}\n\n/**\n * Configuration options for dynamically loading script elements\n */\ntype LoadScriptOptions = {\n  /** Loading strategy: 'async' for parallel execution, 'defer' for sequential after DOM parsing */\n  mode?: 'async' | 'defer';\n  /** Unique identifier for the script element */\n  id?: string;\n};\n\n/**\n * Dynamically loads a JavaScript file into the document head.\n * Returns a Promise that resolves when the script loads successfully or rejects on error.\n * Prevents duplicate loading and tracks loaded state via data-loaded attribute.\n * \n * @param url - URL of the script to load\n * @param type - Script MIME type (e.g., 'module', 'text/javascript')\n * @param options - Configuration options for loading behavior\n * @returns Promise that resolves with the HTMLScriptElement on success\n * \n * @example\n * // Load a module script asynchronously\n * loadScript('/js/app.js', 'module', { mode: 'async' })\n *   .then(script => console.log('Script loaded'))\n *   .catch(error => console.error('Failed to load:', error));\n */\nexport const loadScript = (\n  url: string,\n  type?: string,\n  { mode, id }: LoadScriptOptions = {}\n): Promise<HTMLScriptElement> => new Promise((resolve, reject) => {\n  // Check if script already exists to prevent duplicates\n  let script = document.querySelector(`head > script[src=\"${url}\"]`) as HTMLScriptElement | null;\n  if (!script) {\n    // Create new script element with specified attributes\n    const { head } = document;\n    script = document.createElement('script');\n    script.setAttribute('src', url);\n    if (id) script.setAttribute('id', id);\n    if (type) {\n      script.setAttribute('type', type);\n    }\n    // Set loading mode (async or defer) if specified\n    if (mode && ['async', 'defer'].includes(mode)) script.setAttribute(mode, '');\n    head.append(script);\n  }\n\n  // If script was previously loaded, resolve immediately\n  if ((script as HTMLScriptElement).dataset.loaded) {\n    resolve(script as HTMLScriptElement);\n    return;\n  }\n\n  // Set up event handler for load and error events\n  const onScript = (event: Event) => {\n    (script as HTMLScriptElement).removeEventListener('load', onScript);\n    (script as HTMLScriptElement).removeEventListener('error', onScript);\n\n    if (event.type === 'error') {\n      reject(new Error(`error loading script: ${(script as HTMLScriptElement).src}`));\n    } else if (event.type === 'load') {\n      // Mark script as loaded to prevent re-execution\n      (script as HTMLScriptElement).dataset.loaded = 'true';\n      resolve(script as HTMLScriptElement);\n    }\n  };\n\n  script.addEventListener('load', onScript);\n  script.addEventListener('error', onScript);\n});\n\n/**\n * Retrieves metadata content from the document's head section.\n * Automatically determines whether to use 'name' or 'property' attribute based on the metadata name.\n * \n * Uses 'property' attribute for Open Graph and other namespaced metadata (containing ':'),\n * and 'name' attribute for standard HTML metadata.\n * \n * @param name - The metadata name or property to search for (e.g., 'description', 'og:title')\n * @param doc - The document to search in (defaults to current document)\n * @returns The metadata content value, or null if not found\n * \n * @example\n * // Get standard meta tag\n * const description = getMetadata('description');\n * \n * @example\n * // Get Open Graph meta tag\n * const ogTitle = getMetadata('og:title');\n */\nexport function getMetadata(name: string, doc: Document = document): string | null {\n  // Use 'property' for namespaced metadata (e.g., Open Graph), 'name' for standard metadata\n  const attr = name && name.includes(':') ? 'property' : 'name';\n  const meta = doc.head.querySelector(`meta[${attr}=\"${name}\"]`) as HTMLMetaElement | null;\n  return meta && meta.content;\n}\n\ntype MiloConfigEnv = {\n  name: string;                    // REQUIRED - Environment name: 'local', 'stage', or 'prod'\n  ims?: string;                    // IMS environment: 'stg1' or 'prod'\n  adobeIO?: string;                // Adobe I/O hostname\n  adminconsole?: string;           // Admin Console hostname\n  account?: string;                // Account hostname\n  edgeConfigId?: string;           // Edge configuration ID\n  pdfViewerClientId?: string;      // PDF Viewer client ID\n  consumer?: {                     // Consumer-specific configuration (optional)\n    pdfViewerClientId: string;\n    pdfViewerReportSuite: string;\n    psUrl: string;\n    odinEndpoint: string;\n  };\n};\n\ntype MiloConfigLocale = {\n  prefix: string;                  // REQUIRED - e.g., '', '/fr', '/de', '/jp/ja'\n  ietf?: string;                   // e.g., 'en-US', 'fr-FR', 'de-DE'\n  tk?: string;                     // Typekit font ID, e.g., 'hah7vzn.css'\n  region?: string;                 // Region/country code, e.g., 'us', 'gb', 'fr'\n  regions?: Record<string, unknown>; // Regional configuration mapping\n  contentRoot?: string;            // Full content path with origin\n  language?: string;               // Language code (new routing), e.g., 'en', 'fr', 'de'\n  dir?: string;                    // Text direction: 'ltr' or 'rtl'\n  \n  // Allow additional locale-specific properties\n  [key: string]: unknown;          // Additional locale configuration\n};\n\ntype UnavProfileConfig = {\n  messageEventListener?: (event: CustomEvent) => void;\n  complexConfig?: Record<string, any> | null;\n  config?: Record<string, any>;\n  signInCtaStyle?: 'primary' | 'secondary';\n}\n\ntype UnavConfig = {\n  unavHelpChildren?: Array<{ type: string }>;\n  profile?: UnavProfileConfig;\n  uncAppId?: string;\n  uncConfig?: Record<string, any>;\n  showSectionDivider?: boolean;\n}\n\ntype JarvisConfig = {\n  id: string;\n  callbacks?: Record<string, Function>;\n}\n\nexport type MiloConfig = {\n  env: MiloConfigEnv;\n  locale: MiloConfigLocale;\n  unav?: UnavConfig;\n  jarvis?: JarvisConfig;\n  signInContext?: object;          // IMS sign-in context for UNAV\n};\n\n/**\n * Validates MiloConfig structure at runtime\n * @param config - Configuration object to validate\n * @returns true if valid, false otherwise\n */\nconst isValidMiloConfig = (config: unknown): config is MiloConfig => {\n  if (!config || typeof config !== 'object') return false;\n  \n  const cfg = config as Record<string, unknown>;\n  \n  // Validate locale structure\n  if (!cfg.locale || typeof cfg.locale !== 'object') return false;\n  const locale = cfg.locale as Record<string, unknown>;\n  if (typeof locale.prefix !== 'string') return false;\n  \n  // Validate env structure\n  if (!cfg.env || typeof cfg.env !== 'object') return false;\n  const env = cfg.env as Record<string, unknown>;\n  if (typeof env.name !== 'string') return false;\n  \n  // Validate optional unav structure\n  if (cfg.unav !== undefined) {\n    if (typeof cfg.unav !== 'object' || cfg.unav === null) return false;\n    const unav = cfg.unav as Record<string, unknown>;\n    \n    // Validate unav.profile if present\n    if (unav.profile !== undefined) {\n      if (typeof unav.profile !== 'object' || unav.profile === null) return false;\n      const profile = unav.profile as Record<string, unknown>;\n      \n      // Validate signInCtaStyle if present\n      if (profile.signInCtaStyle !== undefined) {\n        if (profile.signInCtaStyle !== 'primary' && profile.signInCtaStyle !== 'secondary') {\n          return false;\n        }\n      }\n      \n      // Validate messageEventListener if present\n      if (profile.messageEventListener !== undefined && typeof profile.messageEventListener !== 'function') {\n        return false;\n      }\n    }\n  }\n  \n  // Validate optional jarvis structure\n  if (cfg.jarvis !== undefined) {\n    if (typeof cfg.jarvis !== 'object' || cfg.jarvis === null) return false;\n    const jarvis = cfg.jarvis as Record<string, unknown>;\n    \n    // id is required if jarvis object exists\n    if (typeof jarvis.id !== 'string') return false;\n  }\n  \n  return true;\n};\n\n/**\n * MiloConfig Configuration State Management\n * Implements closure-based singleton pattern for global configuration with validation\n * \n * @throws Error if config validation fails or if accessed before initialization\n */\nexport const [setMiloConfig, getMiloConfig] = (() => {\n  let miloConfig: MiloConfig | undefined;\n  let isInitialized = false;\n\n  return [\n    (config: unknown): void => {\n      if (isInitialized) {\n        return;\n      }\n\n      // Validate config structure\n      if (!isValidMiloConfig(config)) {\n        throw new Error('MiloConfig validation failed: Invalid structure');\n      }\n\n      miloConfig = config;\n      isInitialized = true;\n    },\n    (): MiloConfig => {\n      if (!miloConfig) {\n        throw new Error('MiloConfig not initialized. Call setMiloConfig() first.');\n      }\n      return miloConfig;\n    },\n  ];\n})();\n\nconst LanguageMap = {\n  en: 'US',\n  'en-gb': 'GB',\n  'es-mx': 'MX',\n  'fr-ca': 'CA',\n  da: 'DK',\n  et: 'EE',\n  ar: 'DZ',\n  el: 'GR',\n  iw: 'IL',\n  he: 'IL',\n  id: 'ID',\n  ms: 'MY',\n  nb: 'NO',\n  sl: 'SI',\n  sv: 'SE',\n  cs: 'CZ',\n  uk: 'UA',\n  hi: 'IN',\n  'zh-hans': 'CN',\n  'zh-hant': 'TW',\n  ja: 'JP',\n  ko: 'KR',\n  fil: 'PH',\n  th: 'TH',\n  vi: 'VN',\n};\n\nconst GeoMap = {\n  ar: 'AR_es',\n  be_en: 'BE_en',\n  be_fr: 'BE_fr',\n  be_nl: 'BE_nl',\n  br: 'BR_pt',\n  ca: 'CA_en',\n  ch_de: 'CH_de',\n  ch_fr: 'CH_fr',\n  ch_it: 'CH_it',\n  cl: 'CL_es',\n  co: 'CO_es',\n  la: 'DO_es',\n  mx: 'MX_es',\n  pe: 'PE_es',\n  africa: 'MU_en',\n  dk: 'DK_da',\n  de: 'DE_de',\n  ee: 'EE_et',\n  eg_ar: 'EG_ar',\n  eg_en: 'EG_en',\n  es: 'ES_es',\n  fr: 'FR_fr',\n  gr_el: 'GR_el',\n  gr_en: 'GR_en',\n  ie: 'IE_en',\n  il_he: 'IL_iw',\n  it: 'IT_it',\n  lv: 'LV_lv',\n  lt: 'LT_lt',\n  lu_de: 'LU_de',\n  lu_en: 'LU_en',\n  lu_fr: 'LU_fr',\n  my_en: 'MY_en',\n  my_ms: 'MY_ms',\n  hu: 'HU_hu',\n  mt: 'MT_en',\n  mena_en: 'DZ_en',\n  mena_ar: 'DZ_ar',\n  nl: 'NL_nl',\n  no: 'NO_nb',\n  pl: 'PL_pl',\n  pt: 'PT_pt',\n  ro: 'RO_ro',\n  si: 'SI_sl',\n  sk: 'SK_sk',\n  fi: 'FI_fi',\n  se: 'SE_sv',\n  tr: 'TR_tr',\n  uk: 'GB_en',\n  at: 'AT_de',\n  cz: 'CZ_cs',\n  bg: 'BG_bg',\n  ru: 'RU_ru',\n  ua: 'UA_uk',\n  au: 'AU_en',\n  in_en: 'IN_en',\n  in_hi: 'IN_hi',\n  id_en: 'ID_en',\n  id_id: 'ID_id',\n  nz: 'NZ_en',\n  sa_ar: 'SA_ar',\n  sa_en: 'SA_en',\n  sg: 'SG_en',\n  cn: 'CN_zh-Hans',\n  tw: 'TW_zh-Hant',\n  hk_zh: 'HK_zh-hant',\n  jp: 'JP_ja',\n  kr: 'KR_ko',\n  za: 'ZA_en',\n  ng: 'NG_en',\n  cr: 'CR_es',\n  ec: 'EC_es',\n  pr: 'US_es', // not a typo, should be US\n  gt: 'GT_es',\n  cis_en: 'TM_en',\n  cis_ru: 'TM_ru',\n  sea: 'SG_en',\n  th_en: 'TH_en',\n  th_th: 'TH_th',\n};\n\nfunction getDefaultLangstoreCountry(language: string): string {\n  let country = LanguageMap[language as keyof typeof LanguageMap];\n  if (!country && GeoMap[language as keyof typeof GeoMap]) {\n    country = language; // es, fr, pt, de\n  }\n  if (!country && language.includes('-')) {\n    [country] = language.split('-'); // variations like es-419, pt-PT\n  }\n\n  return country || 'US';\n}\n\nconst LANG_STORE_PREFIX = 'langstore/';\n\nexport function getMiloLocaleSettings(miloLocale: MiloConfigLocale) {\n  const localePrefix = miloLocale?.prefix || 'US_en';\n  const geo = localePrefix.replace('/', '') ?? '';\n  let [country = 'US', language = 'en'] = (GeoMap[geo as keyof typeof GeoMap] ?? geo).split('_', 2);\n\n  if (\n    geo.startsWith(LANG_STORE_PREFIX)\n    || window.location.pathname.startsWith(`/${LANG_STORE_PREFIX}`)\n  ) {\n    const localeLang = geo.replace(LANG_STORE_PREFIX, '').toLowerCase();\n    country = getDefaultLangstoreCountry(localeLang);\n    language = localeLang;\n  }\n\n  country = country.toUpperCase();\n  language = language.toLowerCase();\n\n  return {\n    language,\n    country,\n    locale: `${language}_${country}`,\n  };\n}", "import { IrrecoverableError, RecoverableError } from \"../../Error/Error\";\n\nexport type Link = {\n  type: 'Link';\n  text: string;\n  href: string;\n};\n\nconst ERRORS = {\n  elementNull: \"Error when parsing Link. Element is null\",\n  notAnchor: \"Cannot parse non-anchor as Link\",\n  textContentNotFound: \"Error when parsing Link. Element has no textContent\",\n  hrefNotFound: \"Element has no href\",\n}\n\nexport const parseLink = (\n  anchor: Element | null\n): Parsed<Link, RecoverableError> => {\n  if (anchor === null)\n    throw new IrrecoverableError(ERRORS.elementNull);\n\n  if (anchor.tagName !== 'A')\n    throw new IrrecoverableError(ERRORS.notAnchor);\n\n  const text = anchor?.textContent ?? '';\n  if (text === '')\n    throw new IrrecoverableError(ERRORS.textContentNotFound)\n\n  const href = anchor?.getAttribute(\"href\") ?? '';\n  if (href === '')\n    throw new IrrecoverableError(ERRORS.hrefNotFound);\n\n  return [\n    {\n      type: \"Link\",\n      text,\n      href\n    },\n    []\n  ];\n};\n", "import { IrrecoverableError, RecoverableError } from \"../../Error/Error\";\nimport { alternative } from \"../../Utils/Utils\";\nimport { Link, parseLink } from \"../Link/Parse\";\n\nexport type LinkGroupHeader = {\n  type: \"LinkGroupHeader\";\n  title: string;\n  classes: string[];\n};\n\nexport type LinkGroupLink = {\n  type: \"LinkGroupLink\";\n  iconHref: string | null;\n  iconAlt: string | null;\n  title: string;\n  href: string;\n  subtitle: string;\n}\n\nexport type LinkGroupBlue = {\n  type: \"LinkGroupBlue\";\n  link: Link;\n};\n\nexport type LinkGroup\n  = LinkGroupHeader\n  | LinkGroupLink\n  | LinkGroupBlue;\n\n\nexport const parseLinkGroup = (\n  element: Element | null\n): Parsed<LinkGroup, RecoverableError> => \n  alternative(parseLinkGroupHeader)\n    .or(parseLinkGroupLink)\n    .or(parseLinkGroupBlue)\n    .eval(element);\n\n/* example structure of a link group\n*\n* <div class=\"link-group\">\n*   <div>\n*     <div><a href=\"/federal/assets/svgs/creative-cloud-40.svg\">https://main--federal--adobecom.hlx.page/federal/assets/svgs/creative-cloud-40.svg | Adobe Creative Cloud</a></div>\n*     <div>\n*       <p><a href=\"https://www.adobe.com/creativecloud.html\">What is Creative Cloud?</a></p>\n*       <p>Creative apps and services for everyone</p>\n*     </div>\n*   </div>\n* </div>\n*  \n* Sometimes it's slightly different\n* <div class=\"link-group gray-gradient bold header\">\n    <div>\n      <div></div>\n      <div>\n        <h5 id=\"document-productivity\"><a href=\"bookmark://_document-productivity\">Document productivity</a></h5>\n      </div>\n    </div>\n  </div>\n*\n*/\n\nconst ERRORS = {\n  elementNull: \"Element not found\",\n  noTitleAnchor: \"Title anchor not found\",\n  noHref: \"Title Anchor has no href\",\n  noTitle: \"Title text not found\",\n  noSubtitleP: \"Subtitle <p> not found\",\n  noSubtitle: \"Subtitle text not found\",\n  notAHeader: \"Expected a Header class\",\n};\n\nconst parseLinkGroupLink = (\n  element: Element | null\n): Parsed<LinkGroup, RecoverableError> => {\n  const errors = new Set<RecoverableError>();\n  if (!element)\n    throw new IrrecoverableError(ERRORS.elementNull);\n\n  const titleElement = element.querySelector(\"p a\");\n  if (!titleElement)\n    throw new IrrecoverableError(ERRORS.noTitleAnchor);\n\n  const title = titleElement.textContent ?? '';\n  if (title === '')\n    errors.add(new RecoverableError(ERRORS.noTitle));\n\n  const href = titleElement.getAttribute(\"href\") ?? '';\n  if (href === '')\n    errors.add(new RecoverableError(ERRORS.noHref));\n\n  const subtitleElement = titleElement\n    ?.closest(\"p\")\n    ?.nextElementSibling;\n  if (!subtitleElement)\n    throw new IrrecoverableError(ERRORS.noSubtitleP);\n\n  const subtitle = subtitleElement.textContent ?? '';\n  if (subtitle === '')\n    errors.add(new RecoverableError(ERRORS.noSubtitle));\n\n  const [iconHref = null, iconAlt = null] = (element\n    .firstElementChild\n    ?.firstElementChild\n    ?.textContent\n    ?.split(\"|\") ?? []).map(x => x.trim());\n  return [\n    {\n      type: \"LinkGroupLink\",\n      iconHref,\n      iconAlt,\n      title,\n      href,\n      subtitle\n    },\n    [...errors]\n  ]\n}\n\nconst parseLinkGroupHeader = (\n  element: Element | null\n): Parsed<LinkGroup, RecoverableError> => {\n  if (!element)\n    throw new IrrecoverableError(ERRORS.elementNull);\n  \n  const classes = [...element.classList];\n\n  if(!classes.includes('header'))\n    throw new IrrecoverableError(ERRORS.notAHeader);\n\n  const title = element.querySelector('a')?.textContent ?? \"\";\n  if(title === \"\")\n    throw new IrrecoverableError(ERRORS.noTitle);\n\n  return [\n    {\n      type: \"LinkGroupHeader\",\n      title,\n      classes,\n    },\n    []\n  ];\n};\n\nconst parseLinkGroupBlue = (\n  element: Element | null\n): Parsed<LinkGroup, RecoverableError> => {\n  if (!element)\n    throw new IrrecoverableError(ERRORS.elementNull);\n\n  if (!element.classList.contains('blue'))\n    throw new Error('Not a Blue Link Group');\n\n  const a = element.querySelector('a');\n  const [link, es] = parseLink(a);\n\n  return [\n    {\n      type: \"LinkGroupBlue\",\n      link\n    },\n    es\n  ];\n};\n", "\n        const css = \"/**\\n * Link Group Styles\\n */\\n.feds-link-group {\\n    --title-color: #2f2f2f;\\n    --sub-title-color: #4b4b4b;\\n    --bg-hover-color: #e9e9e9;\\n    --accent-color: #274dea;\\n    --accent-color-hover: #1d3ecf;\\n    --header-border-color: #b6b6b6;\\n    --header-background-color: #eaeaea;\\n    align-items: flex-start;\\n    display: flex;\\n    flex-direction: column;\\n    padding: 12px;\\n}\\n\\n.feds-link-group:hover {\\n    background-color: var(--bg-hover-color);\\n}\\n\\n.feds-link-group__title {\\n    /* font-family: var(--heading-font-family); */\\n    font-size: 0.875rem;\\n    font-weight: 700;\\n    line-height: 1rem;\\n    color: var(--title-color);\\n}\\n\\n.feds-link-group__subtitle {\\n    font-size: 0.75rem;\\n    line-height: 1rem;\\n    color: var(--sub-title-color);\\n}\\n\\n.feds-link-group--blue,\\n.feds-link-group--blue .feds-link-group__title {\\n    color: var(--accent-color);\\n}\\n\\n.feds-link-group--blue:hover,\\n.feds-link-group--blue:hover .feds-link-group__title {\\n    color: var(--accent-color-hover);\\n}\\n\\n/* styles overriden coming from styles.css */\\n.feds-link-group.feds-link-group--blue {\\n    text-decoration: underline;\\n}\\n\\n.feds-link-group.feds-link-group--gray-gradient {\\n    background-color: var(--header-background-color);\\n}\\n\\n@media (min-width: 900px) {\\n    .feds-link-group {\\n        --title-color: #9f9f9f;\\n        --sub-title-color: #9f9f9f;\\n        --title-color-hover: #fff;\\n        --sub-title-color-hover: #fff;\\n        --bg-hover-color: transparent;\\n        --header-background-color: transparent;\\n        padding: 0;\\n    }\\n\\n    .feds-link-group--blue,\\n    .feds-link-group--blue:hover {\\n        color: var(--title-color-hover);\\n    }\\n\\n    .feds-link-group__content {\\n        padding: 24px 0;\\n    }\\n\\n    .feds-link-group__title {\\n        font-size: 1.25rem;\\n        line-height: 115%;\\n        padding-bottom: 10px;\\n    }\\n\\n    .feds-link-group:hover .feds-link-group__title {\\n        color: var(--title-color-hover);\\n    }\\n\\n    .feds-link-group__subtitle {\\n        font-size: 0.875rem;\\n        line-height: 140%;\\n    }\\n\\n    .feds-link-group:hover .feds-link-group__subtitle {\\n        color: var(--sub-title-color-hover);\\n    }\\n\\n    .feds-link-group--blue .feds-link-group__title,\\n    .feds-link-group.feds-link-group--gray-gradient .feds-link-group__title{\\n        color: var(--title-color-hover);\\n    }\\n\\n    .feds-link-group.feds-link-group--header .feds-link-group__title {\\n        color: var(--title-color);\\n        border-bottom: 1px solid var(--header-border-color);\\n    }\\n\\n    .feds-link-group.feds-link-group--header .feds-link-group__content {\\n        width: 100%;\\n    }\\n}\\n\";\n        const style = document.createElement('style');\n        style.textContent = css;\n        document.head.appendChild(style);\n      ", "import { LinkGroup, LinkGroupBlue, LinkGroupHeader, LinkGroupLink } from \"./Parse\";\n\n// css\nimport \"./linkGroup.css\";\n\nexport const linkGroup = (lg: LinkGroup): HTML => {\n  switch (lg.type) {\n    case \"LinkGroupHeader\": return linkGroupHeader(lg);\n    case \"LinkGroupLink\": return linkGroupLink(lg);\n    case \"LinkGroupBlue\": return linkGroupBlue(lg);\n    default: {\n      const exhaustivenessCheck: never = lg;\n      console.error(exhaustivenessCheck);\n      return \"\";\n    }\n  }\n};\n\nconst linkGroupHeader = ({\n  title,\n  classes\n}: LinkGroupHeader): HTML => {\n  const classNames = classes.slice(1).map(cls => `feds-link-group--${cls}`).join(' ');\n  return `\n    <div role=\"heading\" class=\"feds-link-group ${classNames}\">\n      <div class=\"feds-link-group__content\">\n        <div class=\"feds-link-group__title\">${title}</div>\n      </div>\n    </div>\n  `;\n};\n\nconst linkGroupLink = ({\n  iconHref,\n  iconAlt,\n  title,\n  href,\n  subtitle\n}: LinkGroupLink): HTML => {\n  const hasIcon = iconAlt !== null && iconHref !== null;\n  const icon = !hasIcon\n    ? \"\"\n    : `\n      <picture class=\"feds-link-group__icon\">\n        <img\n          loading=\"lazy\"\n          src=\"${iconHref}\"\n          alt=\"${iconAlt}\"\n          class=\"feds-link-group__icon-img\"\n        >\n      </picture>\n    `;\n  return `\n    <a class=\"feds-link-group\" href=\"${href}\" daa-ll=\"${title}\">\n      ${icon}\n      <div class=\"feds-link-group__content\">\n        <div class=\"feds-link-group__title\">${title}</div>\n        <div class=\"feds-link-group__subtitle\">${subtitle}</div>\n      </div>\n    </a>\n  `\n}\n\nconst linkGroupBlue = ({\n  link\n}: LinkGroupBlue): HTML => `\n  <a href=\"${link.href}\" class=\"feds-link-group feds-link-group--blue\" daa-ll=\"${link.text}\">\n    <div class=\"feds-link-group__content\">\n        <div class=\"feds-link-group__title\">${link.text}</div>\n      </div>\n  </a>\n`;", "import { IrrecoverableError, RecoverableError } from \"../../Error/Error\";\nimport { icons, isDarkMode } from \"../../Utils/Utils\";\n\ntype ImageData =\n  | { type: 'inline-svg'; svgContent: string; alt: string }\n  | { type: 'image'; src: string; alt: string };\n\nexport type Brand = {\n  type: 'Brand';\n  data: { type: 'LabelledBrand'; href: string; label: string; image: ImageData }\n  | { type: 'BrandImageOnly'; href: string; image: ImageData; alt: string }\n  | { type: 'ImageOnlyBrand'; href: string; image: ImageData; alt: string }\n  | { type: 'BrandLabelOnly'; href: string; label: string }\n  | { type: 'NoRender' };\n};\nconst ERRORS = {\n  elementNull: \"Error when parsing Brand. Element is null\",\n  noLinks: \"Error when parsing Brand. No links found\",\n  noPrimaryLink: \"Error when parsing Brand. No primary link found\",\n};\n\nconst IMG_REGEX = /(\\.png|\\.jpg|\\.jpeg|\\.svg)/i;\n\n/**\n * Extracts image source from a link element or picture element\n */\nconst extractImageSource = (element: Element): string | null => {\n  const imgSrc = element.querySelector('picture img')?.getAttribute('src') ?? null;\n  if (imgSrc !== null && imgSrc !== '') return imgSrc;\n\n  const text = element.textContent?.trim();\n  if (text !== undefined && text !== '' && IMG_REGEX.test(text)) {\n    const source = text.split('|')[0]?.trim();\n    if (source !== undefined && source !== '') return source;\n  }\n\n  const href = element.getAttribute('href');\n  return href !== null && href !== '' && IMG_REGEX.test(href) ? href : null;\n};\n\n/**\n * Extracts alt text from image content\n */\nconst extractAltText = (element: Element): string => {\n  const text = element.textContent?.trim();\n\n  if (text?.includes('|') === true) {\n    const alt = text.split('|')[1]?.trim();\n    if (alt) return alt;\n  }\n\n  const altAttr = element.querySelector('img')?.getAttribute('alt');\n  return altAttr ?? '';\n};\n\nexport const parseBrand = (\n  element: Element | null,\n): Parsed<Brand, RecoverableError> => {\n  if (element === null) {\n    throw new IrrecoverableError(ERRORS.elementNull);\n  }\n\n  const rawBlock = element.querySelector('.gnav-brand');\n  if (rawBlock === null) {\n    throw new IrrecoverableError(ERRORS.elementNull);\n  }\n\n  const blockLinks = [...rawBlock.querySelectorAll('a')] as HTMLAnchorElement[];\n  if (blockLinks.length === 0) {\n    throw new IrrecoverableError(ERRORS.noLinks);\n  }\n\n  // Find the primary (non-image) link\n  const primaryLink = blockLinks.find((link) => {\n    const textContent = link.textContent ?? '';\n    return !IMG_REGEX.test(link.href) && !IMG_REGEX.test(textContent);\n  });\n\n  if (!primaryLink) {\n    throw new IrrecoverableError(ERRORS.noPrimaryLink);\n  }\n\n  // Determine rendering flags based on CSS classes\n  const isBrandImageOnly = rawBlock.matches('.brand-image-only');\n  const noLogo = rawBlock.matches('.no-logo');\n  const imageOnly = rawBlock.matches('.image-only');\n  const renderImage = !noLogo;\n  const renderLabel = !isBrandImageOnly && !imageOnly;\n\n  // Get image links for extracting image sources and alt text\n  const imageLinks = blockLinks.filter((link) => {\n    const textContent = link.textContent ?? '';\n    return IMG_REGEX.test(link.href) || IMG_REGEX.test(textContent);\n  });\n\n  // Extract image sources (light and dark mode) and alt text\n  const [imgSrc, imgSrcDark, altText] = ((): [\n    string, \n    string | null, \n    string\n  ] => {\n    const defaultImgSrc = isBrandImageOnly ? icons.brand : icons.company;\n  \n    const [svgImgSrc = null, svgDarkImgSrc = null] = ([...rawBlock.querySelectorAll('picture img[src$=\".svg\"]')] as HTMLImageElement[])\n      .map((img) => img?.src)\n      .filter((src) => src?.length > 0);\n  \n    const [imgSrc = null, imgSrcDark = null] = \n      imageLinks.map(extractImageSource);\n    const altText = imageLinks[0] instanceof Element\n                  ? extractAltText(imageLinks[0])\n                  : primaryLink.textContent?.trim() ?? '';\n  \n    return [\n      imgSrc ?? svgImgSrc ?? defaultImgSrc,\n      imgSrcDark ?? svgDarkImgSrc,\n      altText\n    ];\n  })();\n\n  const label = primaryLink.textContent?.trim() ?? '';\n  const href = primaryLink.href;\n\n  if (!renderImage && !renderLabel) return [{ type: 'Brand', data: { type: 'NoRender' } }, []];\n\n  const selectSource = (light: string, dark: string | null): string => {\n    const hasDark = dark !== null && dark !== undefined && dark !== '';\n    return isDarkMode() && hasDark ? dark : light;\n  };\n\n  const imageData: ImageData = imgSrc.startsWith('<svg')\n    ? { type: 'inline-svg', svgContent: selectSource(imgSrc, imgSrcDark), alt: altText }\n    : { type: 'image', src: selectSource(imgSrc, imgSrcDark), alt: altText };\n\n  if (renderImage && renderLabel) {\n    return [{ type: 'Brand', data: { type: 'LabelledBrand', href, label, image: imageData } }, []];\n  }\n\n  if (renderImage && isBrandImageOnly) {\n    return [{ type: 'Brand', data: { type: 'BrandImageOnly', href, image: imageData, alt: altText } }, []];\n  }\n\n  if (renderImage && imageOnly) {\n    return [{ type: 'Brand', data: { type: 'ImageOnlyBrand', href, image: imageData, alt: altText } }, []];\n  }\n\n  return [{ type: 'Brand', data: { type: 'BrandLabelOnly', href, label } }, []];\n};\n", "\n        const css = \".feds-brand-container {\\n    display: flex;\\n    flex-shrink: 0;\\n}\\n\\n.feds-brand {\\n    display: flex;\\n}\\n\\n.feds-brand,\\n.feds-logo {\\n    align-items: center;\\n    outline-offset: 2px;\\n    padding: 0 var(--feds-gutter);\\n    column-gap: 10px;\\n}\\n\\n.feds-brand-image,\\n.feds-logo-image {\\n    width: 25px;\\n    flex-shrink: 0;\\n}\\n\\n.feds-brand-image.brand-image-only {\\n    height: 36px;\\n    width: auto;\\n    min-width: 66px;\\n}\\n\\n.feds-brand-image.brand-image-only picture,\\n.feds-brand-image.brand-image-only img,\\n.feds-brand-image.brand-image-only svg {\\n    width: auto;\\n    height: 100%;\\n}\\n\\n.feds-brand-image picture,\\n.feds-brand-image img,\\n.feds-brand-image svg,\\n.feds-logo-image picture,\\n.feds-logo-image img,\\n.feds-logo-image svg {\\n    width: 100%;\\n    display: block;\\n}\\n\\n.feds-brand-label,\\n.feds-logo-label {\\n    flex-shrink: 0;\\n    font-weight: 700;\\n    font-size: 18px;\\n    color: var(--feds-color-adobeBrand);\\n}\\n\\n@media (min-width: 900px) {\\n    .feds-brand-image+.feds-brand-label {\\n        display: flex;\\n    }\\n}\";\n        const style = document.createElement('style');\n        style.textContent = css;\n        document.head.appendChild(style);\n      ", "import { Brand } from \"./Parse\";\nimport './brand.css';\n\ntype ImageData = Extract<Brand['data'], { image: unknown }>['image'];\n\nconst renderImage = (image: ImageData, imageOnly: boolean): string => {\n  const cls = `feds-brand-image${imageOnly ? ' brand-image-only' : ''}`;\n  \n  if (image.type === 'inline-svg') {\n    return `<span class=\"${cls}\">${image.svgContent}</span>`;\n  }\n\n  const alt = image.alt ? ` alt=\"${image.alt}\"` : '';\n  return `<span class=\"${cls}\"><img src=\"${image.src}\"${alt} /></span>`;\n};\n\nconst renderBrand = (href: string, content: string, ariaLabel = ''): HTML =>\n  `<div class=\"feds-brand-container\">\n    <a href=\"${href}\" class=\"feds-brand\" daa-ll=\"Brand\"${ariaLabel}>\n      ${content}\n    </a>\n  </div>`.trim();\n\nexport const brand = (brandData: Brand): HTML => {\n  const { data } = brandData;\n  switch (data.type) {\n    case 'LabelledBrand':\n      return renderBrand(\n        data.href,\n        renderImage(data.image, false) +\n        `<span class=\"feds-brand-label\">${data.label}</span>`\n      );\n\n    case 'BrandImageOnly': {\n      const aria = data.alt ? ` aria-label=\"${data.alt}\"` : '';\n      return renderBrand(\n        data.href,\n        renderImage(data.image, true),\n        aria\n      );\n    }\n\n    case 'ImageOnlyBrand': {\n      const aria = data.alt ? ` aria-label=\"${data.alt}\"` : '';\n      return renderBrand(\n        data.href,\n        renderImage(data.image, false),\n        aria\n      );\n    }\n\n    case 'BrandLabelOnly':\n      return renderBrand(\n        data.href,\n        `<span class=\"feds-brand-label\">${data.label}</span>`\n      );\n\n    case 'NoRender':\n      return '';\n\n    default:\n      data satisfies never;\n      return '';\n  }\n};", "/**\n * Utility functions for Universal Navigation (UNAV)\n * Contains pure functions and state management for UNAV functionality\n */\n\nimport type {\n  UserProfile,\n  UnavConfig,\n  AlloyIdentityData,\n  WindowWithAlloy,\n} from './Unav.types';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/**\n * Components visible to signed-out users\n */\nexport const SIGNED_OUT_ICONS = ['appswitcher', 'help'];\n\n/**\n * Language to country code mapping for locale normalization\n */\nexport const LANGMAP = {\n  cs: ['cz'],\n  da: ['dk'],\n  de: ['at'],\n  en: ['africa', 'au', 'ca', 'ie', 'in', 'mt', 'ng', 'nz', 'sg', 'za'],\n  es: ['ar', 'cl', 'co', 'cr', 'ec', 'gt', 'la', 'mx', 'pe', 'pr'],\n  et: ['ee'],\n  ja: ['jp'],\n  ko: ['kr'],\n  nb: ['no'],\n  pt: ['br'],\n  sl: ['si'],\n  sv: ['se'],\n  uk: ['ua'],\n  zh: ['cn', 'tw'],\n};\n\n// ============================================================================\n// Profile State Management\n// ============================================================================\n\n/**\n * Profile state management using closure pattern\n * Provides async access to user profile with 5-second timeout fallback\n * @returns Tuple of [setter, getter] functions\n */\nexport const [setUserProfile, getUserProfile] = (() => {\n  let profileData: UserProfile | undefined;\n  let profileResolve: ((value: UserProfile) => void) | undefined;\n  let profileTimeout: ReturnType<typeof setTimeout> | undefined;\n\n  const profilePromise = new Promise<UserProfile>((resolve) => {\n    profileResolve = resolve;\n\n    profileTimeout = setTimeout(() => {\n      profileData = {};\n      resolve(profileData);\n    }, 5000);\n  });\n\n  return [\n    (data: UserProfile): void => {\n      if (data && !profileData) {\n        profileData = data;\n        clearTimeout(profileTimeout);\n        profileResolve?.(profileData);\n      }\n    },\n    (): Promise<UserProfile> => profilePromise,\n  ];\n})();\n\n// ============================================================================\n// Width Calculation\n// ============================================================================\n\n/**\n * Calculates minimum width CSS value for UNAV container\n * Prevents layout shift during initialization by pre-calculating required space\n * \n * @param unavComponents - Array of component names to display\n * @param signedOut - Whether user is signed out (affects button display)\n * @returns CSS calc() string for min-width property\n */\nexport function getUnavWidthCSS(\n  unavComponents: string[],\n  signedOut: boolean = false\n): string {\n  const iconWidth = 32; // px\n  const flexGap = 0.25; // rem\n  const sectionDivider = false; // hardcoded for now\n  const sectionDividerMargin = 4; // px (left and right margins)\n  const cartEnabled = /uc_carts=/.test(document.cookie);\n  \n  // Filter out cart if not enabled via cookie\n  const components = (!cartEnabled \n    ? unavComponents?.filter((x) => x !== 'cart') \n    : unavComponents) ?? [];\n  const n = components.length ?? 3;\n\n  if (signedOut) {\n    // Calculate width for signed-out state (fewer icons + sign-in button)\n    const l = components.filter((c: string) => SIGNED_OUT_ICONS.includes(c)).length;\n    const signInButton = 92; // px\n    return `calc(${signInButton}px + ${l * iconWidth}px + ${l * flexGap}rem${\n      sectionDivider ? ` + 2px + ${2 * sectionDividerMargin}px + ${flexGap}rem` : ''\n    })`;\n  }\n\n  // Calculate width for signed-in state (all icons)\n  return `calc(${n * iconWidth}px + ${(n - 1) * flexGap}rem${\n    sectionDivider ? ` + 2px + ${2 * sectionDividerMargin}px + ${flexGap}rem` : ''\n  })`;\n}\n\n// ============================================================================\n// Locale Handling\n// ============================================================================\n\n/**\n * Normalizes locale prefix to Universal Nav format (lang_COUNTRY)\n * Handles special cases and country-to-language mappings\n * \n * @param locale - Locale object with prefix property\n * @returns Normalized locale string (e.g., 'en_US', 'fr_FR')\n */\nexport const getUniversalNavLocale = (locale: { prefix: string }): string => {\n  if (!locale.prefix || locale.prefix === '/') return 'en_US';\n  \n  const prefix = locale.prefix.replace('/', '');\n  \n  // Handle already formatted locales (e.g., 'en_us' or 'en_US')\n  if (prefix.includes('_')) {\n    const [lang, country] = prefix.split('_').reverse();\n    return `${lang.toLowerCase()}_${country.toUpperCase()}`;\n  }\n\n  // Special case: UK should map to en_GB\n  if (prefix === 'uk') return 'en_GB';\n\n  // Check if country code needs language mapping (e.g., 'dk' -> 'da_DK')\n  const customLang = (Object.keys(LANGMAP) as Array<keyof typeof LANGMAP>).find(\n    (key) => LANGMAP[key].includes(prefix as never)\n  );\n  if (customLang) return `${customLang.toLowerCase()}_${prefix.toUpperCase()}`;\n\n  // Default: use prefix as both language and country (e.g., 'fr' -> 'fr_FR')\n  return `${prefix.toLowerCase()}_${prefix.toUpperCase()}`;\n};\n\n// ============================================================================\n// Device Detection\n// ============================================================================\n\n/**\n * OS detection mapping for user agent strings\n */\nconst OS_MAP = {\n  Mac: 'macOS',\n  Win: 'windows',\n  Linux: 'linux',\n  CrOS: 'chromeOS',\n  Android: 'android',\n  iPad: 'iPadOS',\n  iPhone: 'iOS',\n};\n\n/**\n * Detects device OS from user agent string\n * @returns OS identifier for analytics context\n */\nexport const getDevice = (): UnavConfig['analyticsContext']['consumer']['device'] => {\n  const agent = navigator.userAgent;\n  for (const [os, osName] of Object.entries(OS_MAP)) {\n    if (agent.includes(os)) {\n      return osName as UnavConfig['analyticsContext']['consumer']['device'];\n    }\n  }\n  return 'linux';\n};\n\n// ============================================================================\n// Analytics Integration\n// ============================================================================\n\n/**\n * Retrieves visitor GUID from Adobe Alloy SDK\n * Used for analytics tracking and user identification\n * \n * @returns Promise resolving to ECID or undefined if unavailable\n */\nexport const getVisitorGuid = async (): Promise<string | undefined> => {\n  const windowWithAlloy = window as WindowWithAlloy;\n  return windowWithAlloy.alloy\n    ? await windowWithAlloy.alloy('getIdentity')\n        .then((data: AlloyIdentityData) => data?.identity?.ECID)\n        .catch(() => undefined)\n    : undefined;\n};\n", "/**\n * Component configuration factory for Universal Navigation (UNAV)\n * Defines the structure and behavior of UNAV components\n */\n\nimport type {\n  UnavComponents,\n  AccountMenuEventDetail,\n  UserProfile,\n  HelpItem,\n} from './Unav.types';\nimport { setUserProfile } from './Unav.utils';\nimport { getMiloConfig, getMetadata } from '../../Utils/Utils';\n\n// ============================================================================\n// Helper functions\n// ============================================================================\n\n/**\n * Context identifier for Adobe IMS sign-in\n * Retrieved from MiloConfig if provided, otherwise empty object\n */\nconst getSignInContext = (): object => {\n  try {\n    const config = getMiloConfig();\n    return config.signInContext || {};\n  } catch {\n    return {};\n  }\n};\n\n/**\n * Determines the sign-in CTA button style (primary or secondary)\n * Checks metadata tag first, then falls back to config\n * @returns 'primary' or 'secondary' button style\n */\nconst getSignInCtaStyle = () => {\n  const config = getMiloConfig();\n  const isPrimary = (\n    getMetadata('signin-cta-style') === 'primary'\n    || config?.unav?.profile?.signInCtaStyle === 'primary'\n  );\n  return isPrimary ? 'primary' : 'secondary';\n};\n\n/**\n * Returns message event listener for profile component\n * Uses custom listener from config if provided, otherwise returns default listener\n * \n * Default listener handles:\n * - AppInitiated: Fetches and sets user profile data\n * - SignOut: Executes default sign-out action\n * - ProfileSwitch: Reloads page after profile switch\n * \n * @returns Event listener function for CustomEvent<AccountMenuEventDetail>\n */\nconst getMessageEventListener = () => {\n  const config = getMiloConfig();\n  const configListener = config?.unav?.profile?.messageEventListener;\n  if (configListener) return configListener;\n\n  return (event: CustomEvent<AccountMenuEventDetail>) => {\n    const { name, payload, executeDefaultAction } = event.detail;\n    if (!name || name !== 'System' || !payload || typeof executeDefaultAction !== 'function') return;\n    switch (payload.subType) {\n      case 'AppInitiated':\n        window.adobeProfile?.getUserProfile()\n          .then((data) => { setUserProfile(data as UserProfile); })\n          .catch(() => { setUserProfile({}); });\n        break;\n      case 'SignOut':\n        executeDefaultAction();\n        break;\n      case 'ProfileSwitch':\n        Promise.resolve(executeDefaultAction()).then((profile) => {\n          if (profile) window.location.reload();\n        });\n        break;\n      default:\n        break;\n    }\n  };\n};\n\n/**\n * Returns help component children from config or default fallback\n * @returns Array of help items (Support and Community by default)\n */\nfunction getHelpChildren(): HelpItem[] {\n  const { unav } = getMiloConfig();\n  return unav?.unavHelpChildren || ([\n    { type: 'Support' },\n    { type: 'Community' },\n  ] as HelpItem[]);\n}\n\n// ============================================================================\n// Component Configuration\n// ============================================================================\n\n/**\n * Factory function that returns UNAV component configurations\n * Each component is configured with its attributes and behaviors\n * \n * @returns Object mapping component names to their configurations\n */\nexport const getUnavComponents = (): UnavComponents => {\n  const config = getMiloConfig();\n  return {\n    profile: {\n      name: 'profile',\n      attributes: {\n        accountMenuContext: {\n          sharedContextConfig: {\n            enableLocalSection: true,\n            enableProfileSwitcher: true,\n            miniAppContext: {\n              logger: {\n                trace: () => {},\n                debug: () => {},\n                info: () => {},\n                // TODO: Integrate with lanaLog for proper logging\n                // warn: (e) => lanaLog({ message: 'Profile Menu warning', e, tags: 'universalnav,warn' }),\n                // error: (e) => lanaLog({ message: 'Profile Menu error', e, tags: 'universalnav', errorType: 'e' }),\n                warn: () => {},\n                error: () => {},\n              },\n            },\n            complexConfig: config?.unav?.profile?.complexConfig || null,\n            ...config?.unav?.profile?.config,\n          },\n          messageEventListener: getMessageEventListener(),\n        },\n        // UNav 1.5: Support for primary/secondary signIn CTA style\n        // Setting signInCtaStyle = 'primary' makes signIn CTA primary and signUp secondary\n        signInCtaStyle: getSignInCtaStyle(),\n        isSignUpRequired: false,\n        callbacks: {\n          onSignIn: () => {\n            window.adobeIMS?.signIn(getSignInContext());\n          },\n          onSignUp: () => {\n            window.adobeIMS?.signIn(getSignInContext());\n          },\n        },\n      },\n    },\n\n    appswitcher: {\n      name: 'app-switcher',\n    },\n\n    notifications: {\n      name: 'notifications',\n      attributes: {\n        notificationsConfig: {\n          applicationContext: {\n            appID: config?.unav?.uncAppId || 'adobecom',\n            ...config?.unav?.uncConfig,\n          },\n        },\n      },\n    },\n\n    help: {\n      name: 'help',\n      attributes: {\n        children: getHelpChildren(),\n      },\n    },\n\n    jarvis: {\n      name: 'jarvis',\n      attributes: {\n        appid: config?.jarvis?.id,\n        callbacks: config?.jarvis?.callbacks,\n      },\n    },\n\n    cart: {\n      name: 'cart',\n    },\n  };\n};\n", "/**\n * UNAV Loader - Initialization and lifecycle management\n * Orchestrates the loading, configuration, and initialization of Universal Navigation\n */\n\nimport { RecoverableError } from '../../Error/Error';\nimport { loadScript, loadStyles, isDesktop, getMiloConfig, getMiloLocaleSettings, MiloConfig } from '../../Utils/Utils';\nimport type {\n  UnavConfig,\n  UnavChildren,\n  WindowWithAdobeId,\n} from './Unav.types';\nimport {\n  getUnavWidthCSS,\n  getVisitorGuid,\n  getDevice,\n  getUniversalNavLocale,\n} from './Unav.utils';\nimport { getUnavComponents } from './Unav.config';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/**\n * Return type for successful UNAV initialization\n */\nexport type Unav = {\n  reloadUnav: (_?: UnavConfig) => void;\n  errors: Set<RecoverableError>;\n};\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\n/**\n * Sets the isSignUpRequired flag on the profile component\n * @param children - Array of UNAV components with profile as first element\n * @param value - Boolean value to set for isSignUpRequired\n */\nconst setProfileSignUpRequired = (children: UnavChildren, value: boolean): void => {\n  if (\n    children[0] &&\n    'attributes' in children[0] &&\n    children[0].attributes &&\n    typeof children[0].attributes === 'object' &&\n    'isSignUpRequired' in children[0].attributes\n  ) {\n    (children[0].attributes as { isSignUpRequired: boolean }).isSignUpRequired = value;\n  }\n};\n\n// ============================================================================\n// UNAV Loader\n// ============================================================================\n\n/**\n * Loads and initializes Universal Navigation\n * \n * This is the main orchestration function that:\n * 1. Validates the container element exists\n * 2. Parses configuration from meta tags\n * 3. Loads external UNAV assets from CDN\n * 4. Builds component configuration\n * 5. Initializes UNAV with proper context\n * 6. Sets up responsive listeners\n * \n * @param nav - Navigation element containing .feds-utilities container\n * @param _config - Optional partial configuration override (not currently used)\n * @returns Promise resolving to Unav object or RecoverableError\n */\nexport const loadUnav = async (\n  nav: HTMLElement,\n  _config?: Partial<UnavConfig>\n): Promise<Unav | RecoverableError> => {\n  try {\n    // ========================================================================\n    // Step 1: Validate container exists\n    // ========================================================================\n    const utilitiesContainer = nav.querySelector('.feds-utilities');\n    if (!(utilitiesContainer instanceof HTMLElement)) {\n      return new RecoverableError('missing \".feds-utilities\" container');\n    }\n\n    const errors = new Set<RecoverableError>();\n\n    // ========================================================================\n    // Step 2: Parse meta tag configuration\n    // ========================================================================\n    const meta = document.head.querySelector('meta[name=\"universal-nav\"]');\n    const rawValue = meta instanceof HTMLMetaElement ? meta.content ?? '' : '';\n\n    if (!(meta instanceof HTMLMetaElement)) {\n      errors.add(new RecoverableError('metadata \"universal-nav\" is missing'));\n    }\n\n    const trimmedValue = rawValue.trim();\n    if (meta instanceof HTMLMetaElement && trimmedValue.length === 0) {\n      errors.add(new RecoverableError('metadata \"universal-nav\" has no value'));\n    }\n\n    // ========================================================================\n    // Step 3: Check user authentication state\n    // ========================================================================\n    const signedOut = !window.adobeIMS?.isSignedInUser();\n\n    // Parse component list from meta tag\n    const unavComponents = trimmedValue\n      .split(',')\n      .map((option) => option.trim())\n      .filter(\n        (component) =>\n          Object.keys(getUnavComponents()).includes(component) ||\n          component === 'signup'\n      );\n\n    // Pre-calculate width for signed-out state to prevent layout shift\n    if (signedOut) {\n      const width = getUnavWidthCSS(unavComponents, signedOut);\n      utilitiesContainer.style.setProperty('min-width', width);\n    }\n\n    // ========================================================================\n    // Step 4: Gather analytics and environment data\n    // ========================================================================\n    \n    // Get configuration with error handling\n    let config: MiloConfig;\n    try {\n      config = getMiloConfig();\n    } catch (error) {\n      throw new Error('MiloConfig not available for UNAV initialization');\n    }\n\n    const locale = getUniversalNavLocale(config.locale);\n    const environment = config.env.name === 'prod' ? 'prod' : 'stage';\n\n    // Fetch visitor GUID for analytics\n    const visitorGuid = await getVisitorGuid();\n\n    // ========================================================================\n    // Step 5: Load UNAV assets from CDN\n    // ========================================================================\n    \n    // Get version from URL parameter or use default\n    let unavVersion: string | null = new URLSearchParams(\n      window.location.search\n    ).get('unavVersion');\n\n    // Validate version format (e.g., '1.5' or '2')\n    if (!/^\\d+(\\.\\d+)?$/.test(unavVersion ?? '')) {\n      unavVersion = '1.5';\n    }\n\n    // Load JS and CSS in parallel\n    await Promise.all([\n      loadScript(\n        `https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.js`\n      ),\n      loadStyles(\n        `https://${environment}.adobeccstatic.com/unav/${unavVersion}/UniversalNav.css`,\n        true\n      ),\n    ]);\n\n    // ========================================================================\n    // Step 6: Build component children array\n    // ========================================================================\n    \n    /**\n     * Dynamically assembles child components based on meta tag configuration\n     * Special handling for 'profile' (always first) and 'signup' (modifies profile)\n     */\n    const getChildren = (): UnavChildren => {\n      const unavComponentsConfig = getUnavComponents();\n      const children: UnavChildren = [unavComponentsConfig.profile];\n\n      // Reset isSignUpRequired flag\n      setProfileSignUpRequired(children, false);\n\n      // Process each component from meta tag\n      unavComponents?.forEach((component: string) => {\n        if (component === 'profile') return; // Already added\n\n        if (component === 'signup') {\n          // 'signup' modifies profile component instead of adding new one\n          setProfileSignUpRequired(children, true);\n          return;\n        }\n\n        // Add component if it exists in configuration\n        const unavComponent = unavComponentsConfig[component];\n        if (unavComponent) {\n          children.push(unavComponent);\n        }\n      });\n\n      return children;\n    };\n\n    // ========================================================================\n    // Step 7: Build UNAV configuration object\n    // ========================================================================\n    \n    const getConfiguration = (): UnavConfig => ({\n      target: utilitiesContainer,\n      env: environment,\n      locale,\n      countryCode: getMiloLocaleSettings(config?.locale)?.country || 'US',\n      imsClientId: (window as WindowWithAdobeId)?.adobeid?.client_id,\n      theme: 'light', // TODO: Add toggle based on site theme\n      analyticsContext: {\n        consumer: {\n          name: 'adobecom',\n          version: '1.0',\n          platform: 'Web',\n          device: getDevice(),\n          os_version: navigator.platform,\n        },\n        event: { visitor_guid: visitorGuid },\n      },\n      children: getChildren(),\n      isSectionDividerRequired: !!config?.unav?.showSectionDivider,\n      showTrayExperience: !isDesktop.matches,\n    });\n\n    // ========================================================================\n    // Step 8: Initialize UNAV\n    // ========================================================================\n    \n    await window?.UniversalNav?.(getConfiguration());\n\n    // Remove min-width constraint for signed-in users (allow natural sizing)\n    if (!signedOut) {\n      utilitiesContainer?.style.removeProperty('min-width');\n    }\n\n    // ========================================================================\n    // Step 9: Setup responsive listeners\n    // ========================================================================\n\n    // Store reload function for responsive changes\n    const reloadUnav = (_?: UnavConfig): void => {\n      window?.UniversalNav?.reload(\n        getConfiguration()\n      );\n    };\n    \n    // Reinitialize UNAV when viewport changes (desktop/mobile switch)\n    isDesktop.addEventListener('change', () => {\n      reloadUnav();\n    });\n\n    // ========================================================================\n    // Return success with accumulated errors\n    // ========================================================================\n    \n    return {\n      reloadUnav,\n      errors,\n    };\n  } catch (error) {\n    // Catch any unexpected errors and return as RecoverableError\n    const message =\n      error instanceof Error ? error.message : 'failed to load universal nav';\n    return new RecoverableError(message);\n  }\n};\n"],
  "mappings": "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",
  "names": ["ERRORS", "ERRORS", "renderImage", "imgSrc", "imgSrcDark", "altText", "css", "style"]
}
